expiryDate: (val) => {
  if (!val || val.trim().length === 0) return "Expiry date is required";

  const pattern = /^(0[1-9]|1[0-2])\/([0-9]{2})$/;
  if (!pattern.test(val)) return "Format must be MM/YY";

  const [month, year] = val.split('/');
  const expiryMonth = parseInt(month, 10);
  const expiryYear = 2000 + parseInt(year, 10);

  // Expiry date is the *last day* of the given month
  const expiryDate = new Date(expiryYear, expiryMonth, 0); // day 0 = last day of previous month
  const now = new Date();

  // Set to end of day for current date (to avoid time issues)
  now.setHours(0, 0, 0, 0);

  if (expiryDate < now) {
    return "Card has expired";
  }

  return "";
},